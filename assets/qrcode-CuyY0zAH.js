import{R as P}from"./vendor-CatQF14Q.js";var tt={},se=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Tt={},b={};let wt;const le=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];b.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};b.getSymbolTotalCodewords=function(e){return le[e]};b.getBCHDigit=function(n){let e=0;for(;n!==0;)e++,n>>>=1;return e};b.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');wt=e};b.isKanjiModeEnabled=function(){return typeof wt<"u"};b.toSJIS=function(e){return wt(e)};var et={};(function(n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+r)}}n.isValid=function(o){return o&&typeof o.bit<"u"&&o.bit>=0&&o.bit<4},n.from=function(o,i){if(n.isValid(o))return o;try{return e(o)}catch{return i}}})(et);function bt(){this.buffer=[],this.length=0}bt.prototype={get:function(n){const e=Math.floor(n/8);return(this.buffer[e]>>>7-n%8&1)===1},put:function(n,e){for(let r=0;r<e;r++)this.putBit((n>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(n){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),n&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var ae=bt;function X(n){if(!n||n<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=n,this.data=new Uint8Array(n*n),this.reservedBit=new Uint8Array(n*n)}X.prototype.set=function(n,e,r,o){const i=n*this.size+e;this.data[i]=r,o&&(this.reservedBit[i]=!0)};X.prototype.get=function(n,e){return this.data[n*this.size+e]};X.prototype.xor=function(n,e,r){this.data[n*this.size+e]^=r};X.prototype.isReserved=function(n,e){return this.reservedBit[n*this.size+e]};var ue=X,Lt={};(function(n){const e=b.getSymbolSize;n.getRowColCoords=function(o){if(o===1)return[];const i=Math.floor(o/7)+2,s=e(o),u=s===145?26:Math.ceil((s-13)/(2*i-2))*2,c=[s-7];for(let t=1;t<i-1;t++)c[t]=c[t-1]-u;return c.push(6),c.reverse()},n.getPositions=function(o){const i=[],s=n.getRowColCoords(o),u=s.length;for(let c=0;c<u;c++)for(let t=0;t<u;t++)c===0&&t===0||c===0&&t===u-1||c===u-1&&t===0||i.push([s[c],s[t]]);return i}})(Lt);var vt={};const ce=b.getSymbolSize,It=7;vt.getPositions=function(e){const r=ce(e);return[[0,0],[r-It,0],[0,r-It]]};var Dt={};(function(n){n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};n.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},n.from=function(i){return n.isValid(i)?parseInt(i,10):void 0},n.getPenaltyN1=function(i){const s=i.size;let u=0,c=0,t=0,a=null,l=null;for(let h=0;h<s;h++){c=t=0,a=l=null;for(let f=0;f<s;f++){let g=i.get(h,f);g===a?c++:(c>=5&&(u+=e.N1+(c-5)),a=g,c=1),g=i.get(f,h),g===l?t++:(t>=5&&(u+=e.N1+(t-5)),l=g,t=1)}c>=5&&(u+=e.N1+(c-5)),t>=5&&(u+=e.N1+(t-5))}return u},n.getPenaltyN2=function(i){const s=i.size;let u=0;for(let c=0;c<s-1;c++)for(let t=0;t<s-1;t++){const a=i.get(c,t)+i.get(c,t+1)+i.get(c+1,t)+i.get(c+1,t+1);(a===4||a===0)&&u++}return u*e.N2},n.getPenaltyN3=function(i){const s=i.size;let u=0,c=0,t=0;for(let a=0;a<s;a++){c=t=0;for(let l=0;l<s;l++)c=c<<1&2047|i.get(a,l),l>=10&&(c===1488||c===93)&&u++,t=t<<1&2047|i.get(l,a),l>=10&&(t===1488||t===93)&&u++}return u*e.N3},n.getPenaltyN4=function(i){let s=0;const u=i.data.length;for(let t=0;t<u;t++)s+=i.data[t];return Math.abs(Math.ceil(s*100/u/5)-10)*e.N4};function r(o,i,s){switch(o){case n.Patterns.PATTERN000:return(i+s)%2===0;case n.Patterns.PATTERN001:return i%2===0;case n.Patterns.PATTERN010:return s%3===0;case n.Patterns.PATTERN011:return(i+s)%3===0;case n.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case n.Patterns.PATTERN101:return i*s%2+i*s%3===0;case n.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case n.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}n.applyMask=function(i,s){const u=s.size;for(let c=0;c<u;c++)for(let t=0;t<u;t++)s.isReserved(t,c)||s.xor(t,c,r(i,t,c))},n.getBestMask=function(i,s){const u=Object.keys(n.Patterns).length;let c=0,t=1/0;for(let a=0;a<u;a++){s(a),n.applyMask(a,i);const l=n.getPenaltyN1(i)+n.getPenaltyN2(i)+n.getPenaltyN3(i)+n.getPenaltyN4(i);n.applyMask(a,i),l<t&&(t=l,c=a)}return c}})(Dt);var nt={};const U=et,W=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Z=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];nt.getBlocksCount=function(e,r){switch(r){case U.L:return W[(e-1)*4+0];case U.M:return W[(e-1)*4+1];case U.Q:return W[(e-1)*4+2];case U.H:return W[(e-1)*4+3];default:return}};nt.getTotalCodewordsCount=function(e,r){switch(r){case U.L:return Z[(e-1)*4+0];case U.M:return Z[(e-1)*4+1];case U.Q:return Z[(e-1)*4+2];case U.H:return Z[(e-1)*4+3];default:return}};var Ft={},rt={};const J=new Uint8Array(512),q=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)J[r]=e,q[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)J[r]=J[r-255]})();rt.log=function(e){if(e<1)throw new Error("log("+e+")");return q[e]};rt.exp=function(e){return J[e]};rt.mul=function(e,r){return e===0||r===0?0:J[q[e]+q[r]]};(function(n){const e=rt;n.mul=function(o,i){const s=new Uint8Array(o.length+i.length-1);for(let u=0;u<o.length;u++)for(let c=0;c<i.length;c++)s[u+c]^=e.mul(o[u],i[c]);return s},n.mod=function(o,i){let s=new Uint8Array(o);for(;s.length-i.length>=0;){const u=s[0];for(let t=0;t<i.length;t++)s[t]^=e.mul(i[t],u);let c=0;for(;c<s.length&&s[c]===0;)c++;s=s.slice(c)}return s},n.generateECPolynomial=function(o){let i=new Uint8Array([1]);for(let s=0;s<o;s++)i=n.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(Ft);const Ut=Ft;function Et(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}Et.prototype.initialize=function(e){this.degree=e,this.genPoly=Ut.generateECPolynomial(this.degree)};Et.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const o=Ut.mod(r,this.genPoly),i=this.degree-o.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(o,i),s}return o};var fe=Et,_t={},_={},Ct={};Ct.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var D={};const Ot="[0-9]+",he="[A-Z $%*+\\-./:]+";let j="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";j=j.replace(/u/g,"\\u");const de="(?:(?![A-Z0-9 $%*+\\-./:]|"+j+`)(?:.|[\r
]))+`;D.KANJI=new RegExp(j,"g");D.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");D.BYTE=new RegExp(de,"g");D.NUMERIC=new RegExp(Ot,"g");D.ALPHANUMERIC=new RegExp(he,"g");const ge=new RegExp("^"+j+"$"),me=new RegExp("^"+Ot+"$"),we=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");D.testKanji=function(e){return ge.test(e)};D.testNumeric=function(e){return me.test(e)};D.testAlphanumeric=function(e){return we.test(e)};(function(n){const e=Ct,r=D;n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(s,u){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?s.ccBits[0]:u<27?s.ccBits[1]:s.ccBits[2]},n.getBestModeForData=function(s){return r.testNumeric(s)?n.NUMERIC:r.testAlphanumeric(s)?n.ALPHANUMERIC:r.testKanji(s)?n.KANJI:n.BYTE},n.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},n.isValid=function(s){return s&&s.bit&&s.ccBits};function o(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+i)}}n.from=function(s,u){if(n.isValid(s))return s;try{return o(s)}catch{return u}}})(_);(function(n){const e=b,r=nt,o=et,i=_,s=Ct,u=7973,c=e.getBCHDigit(u);function t(f,g,d){for(let w=1;w<=40;w++)if(g<=n.getCapacity(w,d,f))return w}function a(f,g){return i.getCharCountIndicator(f,g)+4}function l(f,g){let d=0;return f.forEach(function(w){const C=a(w.mode,g);d+=C+w.getBitsLength()}),d}function h(f,g){for(let d=1;d<=40;d++)if(l(f,d)<=n.getCapacity(d,g,i.MIXED))return d}n.from=function(g,d){return s.isValid(g)?parseInt(g,10):d},n.getCapacity=function(g,d,w){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const C=e.getSymbolTotalCodewords(g),y=r.getTotalCodewordsCount(g,d),p=(C-y)*8;if(w===i.MIXED)return p;const m=p-a(w,g);switch(w){case i.NUMERIC:return Math.floor(m/10*3);case i.ALPHANUMERIC:return Math.floor(m/11*2);case i.KANJI:return Math.floor(m/13);case i.BYTE:default:return Math.floor(m/8)}},n.getBestVersionForData=function(g,d){let w;const C=o.from(d,o.M);if(Array.isArray(g)){if(g.length>1)return h(g,C);if(g.length===0)return 1;w=g[0]}else w=g;return t(w.mode,w.getLength(),C)},n.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let d=g<<12;for(;e.getBCHDigit(d)-c>=0;)d^=u<<e.getBCHDigit(d)-c;return g<<12|d}})(_t);var zt={};const ct=b,kt=1335,Ee=21522,Pt=ct.getBCHDigit(kt);zt.getEncodedBits=function(e,r){const o=e.bit<<3|r;let i=o<<10;for(;ct.getBCHDigit(i)-Pt>=0;)i^=kt<<ct.getBCHDigit(i)-Pt;return(o<<10|i)^Ee};var Ht={};const Ce=_;function H(n){this.mode=Ce.NUMERIC,this.data=n.toString()}H.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};H.prototype.getLength=function(){return this.data.length};H.prototype.getBitsLength=function(){return H.getBitsLength(this.data.length)};H.prototype.write=function(e){let r,o,i;for(r=0;r+3<=this.data.length;r+=3)o=this.data.substr(r,3),i=parseInt(o,10),e.put(i,10);const s=this.data.length-r;s>0&&(o=this.data.substr(r),i=parseInt(o,10),e.put(i,s*3+1))};var ye=H;const pe=_,it=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Q(n){this.mode=pe.ALPHANUMERIC,this.data=n}Q.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Q.prototype.getLength=function(){return this.data.length};Q.prototype.getBitsLength=function(){return Q.getBitsLength(this.data.length)};Q.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let o=it.indexOf(this.data[r])*45;o+=it.indexOf(this.data[r+1]),e.put(o,11)}this.data.length%2&&e.put(it.indexOf(this.data[r]),6)};var Me=Q;const Ae=_;function V(n){this.mode=Ae.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}V.getBitsLength=function(e){return e*8};V.prototype.getLength=function(){return this.data.length};V.prototype.getBitsLength=function(){return V.getBitsLength(this.data.length)};V.prototype.write=function(n){for(let e=0,r=this.data.length;e<r;e++)n.put(this.data[e],8)};var Re=V;const Ne=_,Ie=b;function Y(n){this.mode=Ne.KANJI,this.data=n}Y.getBitsLength=function(e){return e*13};Y.prototype.getLength=function(){return this.data.length};Y.prototype.getBitsLength=function(){return Y.getBitsLength(this.data.length)};Y.prototype.write=function(n){let e;for(e=0;e<this.data.length;e++){let r=Ie.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),n.put(r,13)}};var Pe=Y,Qt={exports:{}};(function(n){var e={single_source_shortest_paths:function(r,o,i){var s={},u={};u[o]=0;var c=e.PriorityQueue.make();c.push(o,0);for(var t,a,l,h,f,g,d,w,C;!c.empty();){t=c.pop(),a=t.value,h=t.cost,f=r[a]||{};for(l in f)f.hasOwnProperty(l)&&(g=f[l],d=h+g,w=u[l],C=typeof u[l]>"u",(C||w>d)&&(u[l]=d,c.push(l,d),s[l]=a))}if(typeof i<"u"&&typeof u[i]>"u"){var y=["Could not find a path from ",o," to ",i,"."].join("");throw new Error(y)}return s},extract_shortest_path_from_predecessor_list:function(r,o){for(var i=[],s=o;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,o,i){var s=e.single_source_shortest_paths(r,o,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var o=e.PriorityQueue,i={},s;r=r||{};for(s in o)o.hasOwnProperty(s)&&(i[s]=o[s]);return i.queue=[],i.sorter=r.sorter||o.default_sorter,i},default_sorter:function(r,o){return r.cost-o.cost},push:function(r,o){var i={value:r,cost:o};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};n.exports=e})(Qt);var Be=Qt.exports;(function(n){const e=_,r=ye,o=Me,i=Re,s=Pe,u=D,c=b,t=Be;function a(y){return unescape(encodeURIComponent(y)).length}function l(y,p,m){const E=[];let M;for(;(M=y.exec(m))!==null;)E.push({data:M[0],index:M.index,mode:p,length:M[0].length});return E}function h(y){const p=l(u.NUMERIC,e.NUMERIC,y),m=l(u.ALPHANUMERIC,e.ALPHANUMERIC,y);let E,M;return c.isKanjiModeEnabled()?(E=l(u.BYTE,e.BYTE,y),M=l(u.KANJI,e.KANJI,y)):(E=l(u.BYTE_KANJI,e.BYTE,y),M=[]),p.concat(m,E,M).sort(function(I,B){return I.index-B.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function f(y,p){switch(p){case e.NUMERIC:return r.getBitsLength(y);case e.ALPHANUMERIC:return o.getBitsLength(y);case e.KANJI:return s.getBitsLength(y);case e.BYTE:return i.getBitsLength(y)}}function g(y){return y.reduce(function(p,m){const E=p.length-1>=0?p[p.length-1]:null;return E&&E.mode===m.mode?(p[p.length-1].data+=m.data,p):(p.push(m),p)},[])}function d(y){const p=[];for(let m=0;m<y.length;m++){const E=y[m];switch(E.mode){case e.NUMERIC:p.push([E,{data:E.data,mode:e.ALPHANUMERIC,length:E.length},{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.ALPHANUMERIC:p.push([E,{data:E.data,mode:e.BYTE,length:E.length}]);break;case e.KANJI:p.push([E,{data:E.data,mode:e.BYTE,length:a(E.data)}]);break;case e.BYTE:p.push([{data:E.data,mode:e.BYTE,length:a(E.data)}])}}return p}function w(y,p){const m={},E={start:{}};let M=["start"];for(let R=0;R<y.length;R++){const I=y[R],B=[];for(let L=0;L<I.length;L++){const T=I[L],S=""+R+L;B.push(S),m[S]={node:T,lastCount:0},E[S]={};for(let K=0;K<M.length;K++){const v=M[K];m[v]&&m[v].node.mode===T.mode?(E[v][S]=f(m[v].lastCount+T.length,T.mode)-f(m[v].lastCount,T.mode),m[v].lastCount+=T.length):(m[v]&&(m[v].lastCount=T.length),E[v][S]=f(T.length,T.mode)+4+e.getCharCountIndicator(T.mode,p))}}M=B}for(let R=0;R<M.length;R++)E[M[R]].end=0;return{map:E,table:m}}function C(y,p){let m;const E=e.getBestModeForData(y);if(m=e.from(p,E),m!==e.BYTE&&m.bit<E.bit)throw new Error('"'+y+'" cannot be encoded with mode '+e.toString(m)+`.
 Suggested mode is: `+e.toString(E));switch(m===e.KANJI&&!c.isKanjiModeEnabled()&&(m=e.BYTE),m){case e.NUMERIC:return new r(y);case e.ALPHANUMERIC:return new o(y);case e.KANJI:return new s(y);case e.BYTE:return new i(y)}}n.fromArray=function(p){return p.reduce(function(m,E){return typeof E=="string"?m.push(C(E,null)):E.data&&m.push(C(E.data,E.mode)),m},[])},n.fromString=function(p,m){const E=h(p,c.isKanjiModeEnabled()),M=d(E),R=w(M,m),I=t.find_path(R.map,"start","end"),B=[];for(let L=1;L<I.length-1;L++)B.push(R.table[I[L]].node);return n.fromArray(g(B))},n.rawSplit=function(p){return n.fromArray(h(p,c.isKanjiModeEnabled()))}})(Ht);const ot=b,st=et,Se=ae,Te=ue,be=Lt,Le=vt,ft=Dt,ht=nt,ve=fe,x=_t,De=zt,Fe=_,lt=Ht;function Ue(n,e){const r=n.size,o=Le.getPositions(e);for(let i=0;i<o.length;i++){const s=o[i][0],u=o[i][1];for(let c=-1;c<=7;c++)if(!(s+c<=-1||r<=s+c))for(let t=-1;t<=7;t++)u+t<=-1||r<=u+t||(c>=0&&c<=6&&(t===0||t===6)||t>=0&&t<=6&&(c===0||c===6)||c>=2&&c<=4&&t>=2&&t<=4?n.set(s+c,u+t,!0,!0):n.set(s+c,u+t,!1,!0))}}function _e(n){const e=n.size;for(let r=8;r<e-8;r++){const o=r%2===0;n.set(r,6,o,!0),n.set(6,r,o,!0)}}function Oe(n,e){const r=be.getPositions(e);for(let o=0;o<r.length;o++){const i=r[o][0],s=r[o][1];for(let u=-2;u<=2;u++)for(let c=-2;c<=2;c++)u===-2||u===2||c===-2||c===2||u===0&&c===0?n.set(i+u,s+c,!0,!0):n.set(i+u,s+c,!1,!0)}}function ze(n,e){const r=n.size,o=x.getEncodedBits(e);let i,s,u;for(let c=0;c<18;c++)i=Math.floor(c/3),s=c%3+r-8-3,u=(o>>c&1)===1,n.set(i,s,u,!0),n.set(s,i,u,!0)}function at(n,e,r){const o=n.size,i=De.getEncodedBits(e,r);let s,u;for(s=0;s<15;s++)u=(i>>s&1)===1,s<6?n.set(s,8,u,!0):s<8?n.set(s+1,8,u,!0):n.set(o-15+s,8,u,!0),s<8?n.set(8,o-s-1,u,!0):s<9?n.set(8,15-s-1+1,u,!0):n.set(8,15-s-1,u,!0);n.set(o-8,8,1,!0)}function ke(n,e){const r=n.size;let o=-1,i=r-1,s=7,u=0;for(let c=r-1;c>0;c-=2)for(c===6&&c--;;){for(let t=0;t<2;t++)if(!n.isReserved(i,c-t)){let a=!1;u<e.length&&(a=(e[u]>>>s&1)===1),n.set(i,c-t,a),s--,s===-1&&(u++,s=7)}if(i+=o,i<0||r<=i){i-=o,o=-o;break}}}function He(n,e,r){const o=new Se;r.forEach(function(t){o.put(t.mode.bit,4),o.put(t.getLength(),Fe.getCharCountIndicator(t.mode,n)),t.write(o)});const i=ot.getSymbolTotalCodewords(n),s=ht.getTotalCodewordsCount(n,e),u=(i-s)*8;for(o.getLengthInBits()+4<=u&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const c=(u-o.getLengthInBits())/8;for(let t=0;t<c;t++)o.put(t%2?17:236,8);return Qe(o,n,e)}function Qe(n,e,r){const o=ot.getSymbolTotalCodewords(e),i=ht.getTotalCodewordsCount(e,r),s=o-i,u=ht.getBlocksCount(e,r),c=o%u,t=u-c,a=Math.floor(o/u),l=Math.floor(s/u),h=l+1,f=a-l,g=new ve(f);let d=0;const w=new Array(u),C=new Array(u);let y=0;const p=new Uint8Array(n.buffer);for(let I=0;I<u;I++){const B=I<t?l:h;w[I]=p.slice(d,d+B),C[I]=g.encode(w[I]),d+=B,y=Math.max(y,B)}const m=new Uint8Array(o);let E=0,M,R;for(M=0;M<y;M++)for(R=0;R<u;R++)M<w[R].length&&(m[E++]=w[R][M]);for(M=0;M<f;M++)for(R=0;R<u;R++)m[E++]=C[R][M];return m}function Ve(n,e,r,o){let i;if(Array.isArray(n))i=lt.fromArray(n);else if(typeof n=="string"){let a=e;if(!a){const l=lt.rawSplit(n);a=x.getBestVersionForData(l,r)}i=lt.fromString(n,a||40)}else throw new Error("Invalid data");const s=x.getBestVersionForData(i,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const u=He(e,r,i),c=ot.getSymbolSize(e),t=new Te(c);return Ue(t,e),_e(t),Oe(t,e),at(t,r,0),e>=7&&ze(t,e),ke(t,u),isNaN(o)&&(o=ft.getBestMask(t,at.bind(null,t,r))),ft.applyMask(o,t),at(t,r,o),{modules:t,version:e,errorCorrectionLevel:r,maskPattern:o,segments:i}}Tt.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let o=st.M,i,s;return typeof r<"u"&&(o=st.from(r.errorCorrectionLevel,st.M),i=x.from(r.version),s=ft.from(r.maskPattern),r.toSJISFunc&&ot.setToSJISFunction(r.toSJISFunc)),Ve(e,i,o,s)};var Vt={},yt={};(function(n){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let o=r.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+r);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(s){return[s,s]}))),o.length===6&&o.push("F","F");const i=parseInt(o.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+o.slice(0,6).join("")}}n.getOptions=function(o){o||(o={}),o.color||(o.color={});const i=typeof o.margin>"u"||o.margin===null||o.margin<0?4:o.margin,s=o.width&&o.width>=21?o.width:void 0,u=o.scale||4;return{width:s,scale:s?4:u,margin:i,color:{dark:e(o.color.dark||"#000000ff"),light:e(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},n.getScale=function(o,i){return i.width&&i.width>=o+i.margin*2?i.width/(o+i.margin*2):i.scale},n.getImageWidth=function(o,i){const s=n.getScale(o,i);return Math.floor((o+i.margin*2)*s)},n.qrToImageData=function(o,i,s){const u=i.modules.size,c=i.modules.data,t=n.getScale(u,s),a=Math.floor((u+s.margin*2)*t),l=s.margin*t,h=[s.color.light,s.color.dark];for(let f=0;f<a;f++)for(let g=0;g<a;g++){let d=(f*a+g)*4,w=s.color.light;if(f>=l&&g>=l&&f<a-l&&g<a-l){const C=Math.floor((f-l)/t),y=Math.floor((g-l)/t);w=h[c[C*u+y]?1:0]}o[d++]=w.r,o[d++]=w.g,o[d++]=w.b,o[d]=w.a}}})(yt);(function(n){const e=yt;function r(i,s,u){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=u,s.width=u,s.style.height=u+"px",s.style.width=u+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}n.render=function(s,u,c){let t=c,a=u;typeof t>"u"&&(!u||!u.getContext)&&(t=u,u=void 0),u||(a=o()),t=e.getOptions(t);const l=e.getImageWidth(s.modules.size,t),h=a.getContext("2d"),f=h.createImageData(l,l);return e.qrToImageData(f.data,s,t),r(h,a,l),h.putImageData(f,0,0),a},n.renderToDataURL=function(s,u,c){let t=c;typeof t>"u"&&(!u||!u.getContext)&&(t=u,u=void 0),t||(t={});const a=n.render(s,u,t),l=t.type||"image/png",h=t.rendererOpts||{};return a.toDataURL(l,h.quality)}})(Vt);var Yt={};const Ye=yt;function Bt(n,e){const r=n.a/255,o=e+'="'+n.hex+'"';return r<1?o+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':o}function ut(n,e,r){let o=n+e;return typeof r<"u"&&(o+=" "+r),o}function Ke(n,e,r){let o="",i=0,s=!1,u=0;for(let c=0;c<n.length;c++){const t=Math.floor(c%e),a=Math.floor(c/e);!t&&!s&&(s=!0),n[c]?(u++,c>0&&t>0&&n[c-1]||(o+=s?ut("M",t+r,.5+a+r):ut("m",i,0),i=0,s=!1),t+1<e&&n[c+1]||(o+=ut("h",u),u=0)):i++}return o}Yt.render=function(e,r,o){const i=Ye.getOptions(r),s=e.modules.size,u=e.modules.data,c=s+i.margin*2,t=i.color.light.a?"<path "+Bt(i.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",a="<path "+Bt(i.color.dark,"stroke")+' d="'+Ke(u,s,i.margin)+'"/>',l='viewBox="0 0 '+c+" "+c+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+l+' shape-rendering="crispEdges">'+t+a+`</svg>
`;return typeof o=="function"&&o(null,f),f};const Ge=se,dt=Tt,Kt=Vt,Je=Yt;function pt(n,e,r,o,i){const s=[].slice.call(arguments,1),u=s.length,c=typeof s[u-1]=="function";if(!c&&!Ge())throw new Error("Callback required as last argument");if(c){if(u<2)throw new Error("Too few arguments provided");u===2?(i=r,r=e,e=o=void 0):u===3&&(e.getContext&&typeof i>"u"?(i=o,o=void 0):(i=o,o=r,r=e,e=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(r=e,e=o=void 0):u===2&&!e.getContext&&(o=r,r=e,e=void 0),new Promise(function(t,a){try{const l=dt.create(r,o);t(n(l,e,o))}catch(l){a(l)}})}try{const t=dt.create(r,o);i(null,n(t,e,o))}catch(t){i(t)}}tt.create=dt.create;tt.toCanvas=pt.bind(null,Kt.render);tt.toDataURL=pt.bind(null,Kt.renderToDataURL);tt.toString=pt.bind(null,function(n,e,r){return Je.render(n,r)});var je=Object.defineProperty,$=Object.getOwnPropertySymbols,Gt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable,St=(n,e,r)=>e in n?je(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,gt=(n,e)=>{for(var r in e||(e={}))Gt.call(e,r)&&St(n,r,e[r]);if($)for(var r of $(e))Jt.call(e,r)&&St(n,r,e[r]);return n},mt=(n,e)=>{var r={};for(var o in n)Gt.call(n,o)&&e.indexOf(o)<0&&(r[o]=n[o]);if(n!=null&&$)for(var o of $(n))e.indexOf(o)<0&&Jt.call(n,o)&&(r[o]=n[o]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var z;(n=>{const e=class A{constructor(t,a,l,h){if(this.version=t,this.errorCorrectionLevel=a,this.modules=[],this.isFunction=[],t<A.MIN_VERSION||t>A.MAX_VERSION)throw new RangeError("Version value out of range");if(h<-1||h>7)throw new RangeError("Mask value out of range");this.size=t*4+17;let f=[];for(let d=0;d<this.size;d++)f.push(!1);for(let d=0;d<this.size;d++)this.modules.push(f.slice()),this.isFunction.push(f.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(l);if(this.drawCodewords(g),h==-1){let d=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const C=this.getPenaltyScore();C<d&&(h=w,d=C),this.applyMask(w)}}i(0<=h&&h<=7),this.mask=h,this.applyMask(h),this.drawFormatBits(h),this.isFunction=[]}static encodeText(t,a){const l=n.QrSegment.makeSegments(t);return A.encodeSegments(l,a)}static encodeBinary(t,a){const l=n.QrSegment.makeBytes(t);return A.encodeSegments([l],a)}static encodeSegments(t,a,l=1,h=40,f=-1,g=!0){if(!(A.MIN_VERSION<=l&&l<=h&&h<=A.MAX_VERSION)||f<-1||f>7)throw new RangeError("Invalid value");let d,w;for(d=l;;d++){const m=A.getNumDataCodewords(d,a)*8,E=u.getTotalBits(t,d);if(E<=m){w=E;break}if(d>=h)throw new RangeError("Data too long")}for(const m of[A.Ecc.MEDIUM,A.Ecc.QUARTILE,A.Ecc.HIGH])g&&w<=A.getNumDataCodewords(d,m)*8&&(a=m);let C=[];for(const m of t){r(m.mode.modeBits,4,C),r(m.numChars,m.mode.numCharCountBits(d),C);for(const E of m.getData())C.push(E)}i(C.length==w);const y=A.getNumDataCodewords(d,a)*8;i(C.length<=y),r(0,Math.min(4,y-C.length),C),r(0,(8-C.length%8)%8,C),i(C.length%8==0);for(let m=236;C.length<y;m^=253)r(m,8,C);let p=[];for(;p.length*8<C.length;)p.push(0);return C.forEach((m,E)=>p[E>>>3]|=m<<7-(E&7)),new A(d,a,p,f)}getModule(t,a){return 0<=t&&t<this.size&&0<=a&&a<this.size&&this.modules[a][t]}getModules(){return this.modules}drawFunctionPatterns(){for(let l=0;l<this.size;l++)this.setFunctionModule(6,l,l%2==0),this.setFunctionModule(l,6,l%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),a=t.length;for(let l=0;l<a;l++)for(let h=0;h<a;h++)l==0&&h==0||l==0&&h==a-1||l==a-1&&h==0||this.drawAlignmentPattern(t[l],t[h]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const a=this.errorCorrectionLevel.formatBits<<3|t;let l=a;for(let f=0;f<10;f++)l=l<<1^(l>>>9)*1335;const h=(a<<10|l)^21522;i(h>>>15==0);for(let f=0;f<=5;f++)this.setFunctionModule(8,f,o(h,f));this.setFunctionModule(8,7,o(h,6)),this.setFunctionModule(8,8,o(h,7)),this.setFunctionModule(7,8,o(h,8));for(let f=9;f<15;f++)this.setFunctionModule(14-f,8,o(h,f));for(let f=0;f<8;f++)this.setFunctionModule(this.size-1-f,8,o(h,f));for(let f=8;f<15;f++)this.setFunctionModule(8,this.size-15+f,o(h,f));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let l=0;l<12;l++)t=t<<1^(t>>>11)*7973;const a=this.version<<12|t;i(a>>>18==0);for(let l=0;l<18;l++){const h=o(a,l),f=this.size-11+l%3,g=Math.floor(l/3);this.setFunctionModule(f,g,h),this.setFunctionModule(g,f,h)}}drawFinderPattern(t,a){for(let l=-4;l<=4;l++)for(let h=-4;h<=4;h++){const f=Math.max(Math.abs(h),Math.abs(l)),g=t+h,d=a+l;0<=g&&g<this.size&&0<=d&&d<this.size&&this.setFunctionModule(g,d,f!=2&&f!=4)}}drawAlignmentPattern(t,a){for(let l=-2;l<=2;l++)for(let h=-2;h<=2;h++)this.setFunctionModule(t+h,a+l,Math.max(Math.abs(h),Math.abs(l))!=1)}setFunctionModule(t,a,l){this.modules[a][t]=l,this.isFunction[a][t]=!0}addEccAndInterleave(t){const a=this.version,l=this.errorCorrectionLevel;if(t.length!=A.getNumDataCodewords(a,l))throw new RangeError("Invalid argument");const h=A.NUM_ERROR_CORRECTION_BLOCKS[l.ordinal][a],f=A.ECC_CODEWORDS_PER_BLOCK[l.ordinal][a],g=Math.floor(A.getNumRawDataModules(a)/8),d=h-g%h,w=Math.floor(g/h);let C=[];const y=A.reedSolomonComputeDivisor(f);for(let m=0,E=0;m<h;m++){let M=t.slice(E,E+w-f+(m<d?0:1));E+=M.length;const R=A.reedSolomonComputeRemainder(M,y);m<d&&M.push(0),C.push(M.concat(R))}let p=[];for(let m=0;m<C[0].length;m++)C.forEach((E,M)=>{(m!=w-f||M>=d)&&p.push(E[m])});return i(p.length==g),p}drawCodewords(t){if(t.length!=Math.floor(A.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let a=0;for(let l=this.size-1;l>=1;l-=2){l==6&&(l=5);for(let h=0;h<this.size;h++)for(let f=0;f<2;f++){const g=l-f,w=(l+1&2)==0?this.size-1-h:h;!this.isFunction[w][g]&&a<t.length*8&&(this.modules[w][g]=o(t[a>>>3],7-(a&7)),a++)}}i(a==t.length*8)}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let a=0;a<this.size;a++)for(let l=0;l<this.size;l++){let h;switch(t){case 0:h=(l+a)%2==0;break;case 1:h=a%2==0;break;case 2:h=l%3==0;break;case 3:h=(l+a)%3==0;break;case 4:h=(Math.floor(l/3)+Math.floor(a/2))%2==0;break;case 5:h=l*a%2+l*a%3==0;break;case 6:h=(l*a%2+l*a%3)%2==0;break;case 7:h=((l+a)%2+l*a%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[a][l]&&h&&(this.modules[a][l]=!this.modules[a][l])}}getPenaltyScore(){let t=0;for(let f=0;f<this.size;f++){let g=!1,d=0,w=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[f][C]==g?(d++,d==5?t+=A.PENALTY_N1:d>5&&t++):(this.finderPenaltyAddHistory(d,w),g||(t+=this.finderPenaltyCountPatterns(w)*A.PENALTY_N3),g=this.modules[f][C],d=1);t+=this.finderPenaltyTerminateAndCount(g,d,w)*A.PENALTY_N3}for(let f=0;f<this.size;f++){let g=!1,d=0,w=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][f]==g?(d++,d==5?t+=A.PENALTY_N1:d>5&&t++):(this.finderPenaltyAddHistory(d,w),g||(t+=this.finderPenaltyCountPatterns(w)*A.PENALTY_N3),g=this.modules[C][f],d=1);t+=this.finderPenaltyTerminateAndCount(g,d,w)*A.PENALTY_N3}for(let f=0;f<this.size-1;f++)for(let g=0;g<this.size-1;g++){const d=this.modules[f][g];d==this.modules[f][g+1]&&d==this.modules[f+1][g]&&d==this.modules[f+1][g+1]&&(t+=A.PENALTY_N2)}let a=0;for(const f of this.modules)a=f.reduce((g,d)=>g+(d?1:0),a);const l=this.size*this.size,h=Math.ceil(Math.abs(a*20-l*10)/l)-1;return i(0<=h&&h<=9),t+=h*A.PENALTY_N4,i(0<=t&&t<=2568888),t}getAlignmentPatternPositions(){if(this.version==1)return[];{const t=Math.floor(this.version/7)+2,a=this.version==32?26:Math.ceil((this.version*4+4)/(t*2-2))*2;let l=[6];for(let h=this.size-7;l.length<t;h-=a)l.splice(1,0,h);return l}}static getNumRawDataModules(t){if(t<A.MIN_VERSION||t>A.MAX_VERSION)throw new RangeError("Version number out of range");let a=(16*t+128)*t+64;if(t>=2){const l=Math.floor(t/7)+2;a-=(25*l-10)*l-55,t>=7&&(a-=36)}return i(208<=a&&a<=29648),a}static getNumDataCodewords(t,a){return Math.floor(A.getNumRawDataModules(t)/8)-A.ECC_CODEWORDS_PER_BLOCK[a.ordinal][t]*A.NUM_ERROR_CORRECTION_BLOCKS[a.ordinal][t]}static reedSolomonComputeDivisor(t){if(t<1||t>255)throw new RangeError("Degree out of range");let a=[];for(let h=0;h<t-1;h++)a.push(0);a.push(1);let l=1;for(let h=0;h<t;h++){for(let f=0;f<a.length;f++)a[f]=A.reedSolomonMultiply(a[f],l),f+1<a.length&&(a[f]^=a[f+1]);l=A.reedSolomonMultiply(l,2)}return a}static reedSolomonComputeRemainder(t,a){let l=a.map(h=>0);for(const h of t){const f=h^l.shift();l.push(0),a.forEach((g,d)=>l[d]^=A.reedSolomonMultiply(g,f))}return l}static reedSolomonMultiply(t,a){if(t>>>8||a>>>8)throw new RangeError("Byte out of range");let l=0;for(let h=7;h>=0;h--)l=l<<1^(l>>>7)*285,l^=(a>>>h&1)*t;return i(l>>>8==0),l}finderPenaltyCountPatterns(t){const a=t[1];i(a<=this.size*3);const l=a>0&&t[2]==a&&t[3]==a*3&&t[4]==a&&t[5]==a;return(l&&t[0]>=a*4&&t[6]>=a?1:0)+(l&&t[6]>=a*4&&t[0]>=a?1:0)}finderPenaltyTerminateAndCount(t,a,l){return t&&(this.finderPenaltyAddHistory(a,l),a=0),a+=this.size,this.finderPenaltyAddHistory(a,l),this.finderPenaltyCountPatterns(l)}finderPenaltyAddHistory(t,a){a[0]==0&&(t+=this.size),a.pop(),a.unshift(t)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function r(c,t,a){if(t<0||t>31||c>>>t)throw new RangeError("Value out of range");for(let l=t-1;l>=0;l--)a.push(c>>>l&1)}function o(c,t){return(c>>>t&1)!=0}function i(c){if(!c)throw new Error("Assertion error")}const s=class N{constructor(t,a,l){if(this.mode=t,this.numChars=a,this.bitData=l,a<0)throw new RangeError("Invalid argument");this.bitData=l.slice()}static makeBytes(t){let a=[];for(const l of t)r(l,8,a);return new N(N.Mode.BYTE,t.length,a)}static makeNumeric(t){if(!N.isNumeric(t))throw new RangeError("String contains non-numeric characters");let a=[];for(let l=0;l<t.length;){const h=Math.min(t.length-l,3);r(parseInt(t.substring(l,l+h),10),h*3+1,a),l+=h}return new N(N.Mode.NUMERIC,t.length,a)}static makeAlphanumeric(t){if(!N.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let a=[],l;for(l=0;l+2<=t.length;l+=2){let h=N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l))*45;h+=N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l+1)),r(h,11,a)}return l<t.length&&r(N.ALPHANUMERIC_CHARSET.indexOf(t.charAt(l)),6,a),new N(N.Mode.ALPHANUMERIC,t.length,a)}static makeSegments(t){return t==""?[]:N.isNumeric(t)?[N.makeNumeric(t)]:N.isAlphanumeric(t)?[N.makeAlphanumeric(t)]:[N.makeBytes(N.toUtf8ByteArray(t))]}static makeEci(t){let a=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)r(t,8,a);else if(t<16384)r(2,2,a),r(t,14,a);else if(t<1e6)r(6,3,a),r(t,21,a);else throw new RangeError("ECI assignment value out of range");return new N(N.Mode.ECI,0,a)}static isNumeric(t){return N.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return N.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(t,a){let l=0;for(const h of t){const f=h.mode.numCharCountBits(a);if(h.numChars>=1<<f)return 1/0;l+=4+f+h.bitData.length}return l}static toUtf8ByteArray(t){t=encodeURI(t);let a=[];for(let l=0;l<t.length;l++)t.charAt(l)!="%"?a.push(t.charCodeAt(l)):(a.push(parseInt(t.substring(l+1,l+3),16)),l+=2);return a}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let u=s;n.QrSegment=s})(z||(z={}));(n=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(n.QrCode||(n.QrCode={}))})(z||(z={}));(n=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(n.QrSegment||(n.QrSegment={}))})(z||(z={}));var k=z;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Xe={L:k.QrCode.Ecc.LOW,M:k.QrCode.Ecc.MEDIUM,Q:k.QrCode.Ecc.QUARTILE,H:k.QrCode.Ecc.HIGH},jt=128,Xt="L",Wt="#FFFFFF",Zt="#000000",qt=!1,xt=1,We=4,Ze=0,qe=.1;function $t(n,e=0){const r=[];return n.forEach(function(o,i){let s=null;o.forEach(function(u,c){if(!u&&s!==null){r.push(`M${s+e} ${i+e}h${c-s}v1H${s+e}z`),s=null;return}if(c===o.length-1){if(!u)return;s===null?r.push(`M${c+e},${i+e} h1v1H${c+e}z`):r.push(`M${s+e},${i+e} h${c+1-s}v1H${s+e}z`);return}u&&s===null&&(s=c)})}),r.join("")}function te(n,e){return n.slice().map((r,o)=>o<e.y||o>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function xe(n,e,r,o){if(o==null)return null;const i=n.length+r*2,s=Math.floor(e*qe),u=i/e,c=(o.width||s)*u,t=(o.height||s)*u,a=o.x==null?n.length/2-c/2:o.x*u,l=o.y==null?n.length/2-t/2:o.y*u,h=o.opacity==null?1:o.opacity;let f=null;if(o.excavate){let d=Math.floor(a),w=Math.floor(l),C=Math.ceil(c+a-d),y=Math.ceil(t+l-w);f={x:d,y:w,w:C,h:y}}const g=o.crossOrigin;return{x:a,y:l,h:t,w:c,excavation:f,opacity:h,crossOrigin:g}}function $e(n,e){return e!=null?Math.max(Math.floor(e),0):n?We:Ze}function ee({value:n,level:e,minVersion:r,includeMargin:o,marginSize:i,imageSettings:s,size:u,boostLevel:c}){let t=P.useMemo(()=>{const d=(Array.isArray(n)?n:[n]).reduce((w,C)=>(w.push(...k.QrSegment.makeSegments(C)),w),[]);return k.QrCode.encodeSegments(d,Xe[e],r,void 0,void 0,c)},[n,e,r,c]);const{cells:a,margin:l,numCells:h,calculatedImageSettings:f}=P.useMemo(()=>{let g=t.getModules();const d=$e(o,i),w=g.length+d*2,C=xe(g,u,d,s);return{cells:g,margin:d,numCells:w,calculatedImageSettings:C}},[t,u,s,o,i]);return{qrcode:t,margin:l,cells:a,numCells:h,calculatedImageSettings:f}}var tn=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),en=P.forwardRef(function(e,r){const o=e,{value:i,size:s=jt,level:u=Xt,bgColor:c=Wt,fgColor:t=Zt,includeMargin:a=qt,minVersion:l=xt,boostLevel:h,marginSize:f,imageSettings:g}=o,w=mt(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=w,y=mt(w,["style"]),p=g==null?void 0:g.src,m=P.useRef(null),E=P.useRef(null),M=P.useCallback(O=>{m.current=O,typeof r=="function"?r(O):r&&(r.current=O)},[r]),[R,I]=P.useState(!1),{margin:B,cells:L,numCells:T,calculatedImageSettings:S}=ee({value:i,level:u,minVersion:l,boostLevel:h,includeMargin:a,marginSize:f,imageSettings:g,size:s});P.useEffect(()=>{if(m.current!=null){const O=m.current,F=O.getContext("2d");if(!F)return;let Mt=L;const G=E.current,At=S!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;At&&S.excavation!=null&&(Mt=te(L,S.excavation));const Rt=window.devicePixelRatio||1;O.height=O.width=s*Rt;const Nt=s/T*Rt;F.scale(Nt,Nt),F.fillStyle=c,F.fillRect(0,0,T,T),F.fillStyle=t,tn?F.fill(new Path2D($t(Mt,B))):L.forEach(function(ne,re){ne.forEach(function(oe,ie){oe&&F.fillRect(ie+B,re+B,1,1)})}),S&&(F.globalAlpha=S.opacity),At&&F.drawImage(G,S.x+B,S.y+B,S.w,S.h)}}),P.useEffect(()=>{I(!1)},[p]);const K=gt({height:s,width:s},C);let v=null;return p!=null&&(v=P.createElement("img",{src:p,key:p,style:{display:"none"},onLoad:()=>{I(!0)},ref:E,crossOrigin:S==null?void 0:S.crossOrigin})),P.createElement(P.Fragment,null,P.createElement("canvas",gt({style:K,height:s,width:s,ref:M,role:"img"},y)),v)});en.displayName="QRCodeCanvas";var nn=P.forwardRef(function(e,r){const o=e,{value:i,size:s=jt,level:u=Xt,bgColor:c=Wt,fgColor:t=Zt,includeMargin:a=qt,minVersion:l=xt,boostLevel:h,title:f,marginSize:g,imageSettings:d}=o,w=mt(o,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:y,numCells:p,calculatedImageSettings:m}=ee({value:i,level:u,minVersion:l,boostLevel:h,includeMargin:a,marginSize:g,imageSettings:d,size:s});let E=y,M=null;d!=null&&m!=null&&(m.excavation!=null&&(E=te(y,m.excavation)),M=P.createElement("image",{href:d.src,height:m.h,width:m.w,x:m.x+C,y:m.y+C,preserveAspectRatio:"none",opacity:m.opacity,crossOrigin:m.crossOrigin}));const R=$t(E,C);return P.createElement("svg",gt({height:s,width:s,viewBox:`0 0 ${p} ${p}`,ref:r,role:"img"},w),!!f&&P.createElement("title",null,f),P.createElement("path",{fill:c,d:`M0,0 h${p}v${p}H0z`,shapeRendering:"crispEdges"}),P.createElement("path",{fill:t,d:R,shapeRendering:"crispEdges"}),M)});nn.displayName="QRCodeSVG";export{nn as Q,tt as b};
